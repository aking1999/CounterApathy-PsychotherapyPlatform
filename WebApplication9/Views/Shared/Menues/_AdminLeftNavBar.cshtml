@using Database.Models
@using Microsoft.AspNetCore.Identity
@using Framework.Helpers.ExtensionMethods
@inject UserManager<CustomClient> UserManager

<link rel="stylesheet" href="~/css/left-side-nav-bar.css" />

<div class="sidebar" id="leftsidebar">
    <div class="logo-details">
        <i class="icon"></i>
        <div class="logo_name">Lajsna</div>
        <i tabindex="1" class="far fa-bars" id="btn"></i>
    </div>
    <ul class="nav-list">
        @*<li>
            <i class="bx bx-search"></i>
            <input type="text" placeholder="Admin Search..." />
            <span class="tooltip">Search</span>
        </li>*@
        <li>
            <a asp-area="Admin" asp-controller="Account" asp-action="Profile">
                <i class="far fa-user"></i>
                <span class="links_name">Profile</span>
            </a>
            <span class="tooltip">Profile</span>
        </li>

        <li>
            <a asp-area="Admin" asp-controller="Account" asp-action="Dashboard">
                <i class="far fa-chart-bar"></i>
                <span class="links_name">Dashboard</span>
            </a>
            <span class="tooltip">Dashboard</span>
        </li>
        <li>
            <a asp-area="Admin" asp-controller="Account" asp-action="Dashboard">
                <i class="fal fa-paste"></i>
                <span class="links_name">Applications</span>
            </a>
            <span class="tooltip">Therapists' Applications</span>
        </li>
        <li>
            <a asp-area="Admin" asp-controller="Account" asp-action="AddWebCredit">
                <i class="far fa-usd-circle"></i>
                <span class="links_name">Web Credits</span>
            </a>
            <span class="tooltip">Web Credits</span>
        </li>
        <li>
            <a asp-area="Admin" asp-controller="Dashboard" asp-action="PendingRatings">
                <i class="fal fa-star-exclamation"></i>
                <span class="links_name">Pending Ratings</span>
            </a>
            <span class="tooltip">Pending Ratings</span>
        </li>
        <li>
            <a asp-area="Admin" asp-controller="Dashboard" asp-action="Withdrawals">
                <i class="far fa-credit-card"></i>
                <span class="links_name">Withdrawals</span>
            </a>
            <span class="tooltip">Withdrawals</span>
        </li>
        <li>
            <a href="#">
                <i class="far fa-cog"></i>
                <span class="links_name">Setting</span>
            </a>
            <span class="tooltip">Setting</span>
        </li>
        <li class="profile">
            @*<div class="profile-details">
                <img src="@await Html.RenderUserProfilePhotoOrDefaultPhoto(User, UserManager)" alt="profileImg" style="border-radius:20px" />
                <div class="name_job">
                    <div class="job">Client</div>
                </div>
            </div>
            <i class="bx bx-log-out" id="log_out"></i>*@

            <a href="" id="href-sign-out">
                <i class="far fa-sign-out-alt"></i>
                <span class="links_name">Sign out</span>
            </a>
            <span class="tooltip">Sign out</span>
        </li>
    </ul>
</div>
@*<section class="home-section">
        <div class="text">Dashboard</div>
    </section>*@
<script>
    //let leftSidebar = document.getElementById("leftsidebar");
    let sidebar = document.querySelector(".sidebar");
    let closeBtn = document.querySelector("#btn");
    //let searchBtn = document.querySelector(".bx-search");

    closeBtn.addEventListener("click", () => {
        sidebar.classList.toggle("open");
        menuBtnChange(); //calling the function(optional)
    });

    //searchBtn.addEventListener("click", () => {
    //    // Sidebar open when you click on the search iocn
    //    sidebar.classList.toggle("open");
    //    menuBtnChange(); //calling the function(optional)
    //});

    closeBtn.addEventListener("focusout", () => {
        if (sidebar.classList.contains('open')) {
            sidebar.classList.remove("open");
            menuBtnChange();
        }
    });

    function menuBtnChange() {
        if (sidebar.classList.contains("open")) {
            closeBtn.classList.replace("fa-bars", "fa-caret-left");
        } else {
            closeBtn.classList.replace("fa-caret-left", "fa-bars");
        }
    }

    $('#href-sign-out').click(function (event) {
        event.preventDefault();
        $('#btn-sign-out').click();
    });
</script>